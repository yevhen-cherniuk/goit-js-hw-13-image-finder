{"version":3,"sources":["webpack:///./templates/imageTemplate.hbs","webpack:///./js/refs.js","webpack:///./js/apiService.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop","refs","gallery","document","querySelector","form","input","loadMoreButton","KEY","pageNumber","backdrop","closeModalBtn","preloadRef","upBtn","count","renderFn","fetch","value","then","res","json","hits","length","insertAdjacentHTML","imageTemplate","error","title","text","delay","notificationFn","addEventListener","e","preventDefault","innerHTML","classList","add","remove","setTimeout","window","throtle","documentElement","scrollTop","scrollHeight","clientHeight","path","forEach","el","className","imgBig","dataset","img","basicLightbox","show","style","opacity","transform","transition"],"mappings":"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","file":"main.d8ab9cd93a3c22fa8088.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"gallery-item\\\" data-img=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0), depth0))\n    + \"\\\">\\r\\n    <div class=\\\"photo-card\\\">\\r\\n        <div class=\\\"img-wrapper\\\">\\r\\n            <img class=\\\"img-item\\\" src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0), depth0))\n    + \"\\\" alt=\\\"\\\" width=\\\"300\\\" height=\\\"210\\\" />\\r\\n        </div>\\r\\n        <ul class=\\\"stats\\\">\\r\\n            <li class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"likes\") : depth0), depth0))\n    + \"\\r\\n            </li>\\r\\n            <li class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">visibility</i>\\r\\n                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"views\") : depth0), depth0))\n    + \"\\r\\n            </li>\\r\\n            <li class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">comment</i>\\r\\n                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"comments\") : depth0), depth0))\n    + \"\\r\\n            </li>\\r\\n            <li class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0), depth0))\n    + \"\\r\\n            </li>\\r\\n        </ul>\\r\\n    </div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":27,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const refs = {\r\n    gallery : document.querySelector('.gallery'),\r\n    form : document.querySelector('.search-form'),\r\n    input: document.querySelector('input'),\r\n    loadMoreButton: document.querySelector('.load-more--button'),\r\n    KEY : '18941462-97e9f218cf6db5cf76e5888b1',\r\n    pageNumber: 1,\r\n    backdrop: document.querySelector('.backdrop'),\r\n    closeModalBtn: document.querySelector('.close-modal'),\r\n    preloadRef: document.querySelector('#pulse-loader'),\r\n   upBtn: document.querySelector('.to-top'),\r\n }\r\n\r\n export default refs","import refs from \"./refs.js\";\r\nimport imageTemplate from '../templates/imageTemplate.hbs';\r\nimport { error } from '../../node_modules/@pnotify/core'; \r\nimport * as basicLightbox from '../../node_modules/basiclightbox';\r\nimport \"../../node_modules/basiclightbox/dist/basicLightbox.min.css\";\r\nimport '../../node_modules/@pnotify/core/dist/BrightTheme.css';\r\nimport \"../../node_modules/@pnotify/core/dist/PNotify.css\";\r\nimport throtle from '../../node_modules/lodash.throttle/index.js'\r\n\r\nlet count = 0;\r\n\r\nconst notificationFn = () => { \r\n    const myNotice = error({\r\n                    title: 'No results!!!!',\r\n                    text: \"Please enter another request\",\r\n                    delay: 1200,\r\n    });\r\n    count = 0;\r\n}\r\n\r\n\r\nconst renderFn = () => { \r\n    if (count === refs.pageNumber) { \r\n        return;\r\n    };\r\n     fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${refs.input.value}&page=${refs.pageNumber}&per_page=12&key=${refs.KEY}`)\r\n        .then(res => res.json())\r\n         .then(({ hits }) => {\r\n             if (hits.length) {\r\n                 refs.gallery.insertAdjacentHTML('beforeend', imageTemplate(hits));\r\n                 refs.pageNumber++;\r\n             }\r\n             else { \r\n                 notificationFn();\r\n                 return\r\n             }\r\n        }\r\n     )\r\n    \r\n    count = refs.pageNumber;\r\n}\r\n\r\nrefs.form.addEventListener('submit', e => {\r\n    e.preventDefault();\r\n    refs.gallery.innerHTML = '';\r\n    refs.gallery.classList.add('is-hidden');\r\n    refs.preloadRef.classList.remove('is-hidden');\r\n    renderFn();\r\n    setTimeout(() => {\r\n        refs.preloadRef.classList.add('is-hidden');\r\n        refs.gallery.classList.remove('is-hidden');\r\n    }, 1000);\r\n})\r\n\r\n\r\nwindow.addEventListener('scroll', throtle(() => { \r\n        const { scrollTop, scrollHeight, clientHeight } = document.documentElement;\r\n        if (clientHeight + scrollTop >= scrollHeight-500) {\r\n            renderFn();\r\n        }\r\n        if (scrollTop > 200) { \r\n            refs.upBtn.classList.remove('is-hidden')\r\n        }\r\n        if (scrollTop < 200) { \r\n            refs.upBtn.classList.add('is-hidden')\r\n        }\r\n        }, 300)\r\n);\r\n\r\nrefs.gallery.addEventListener('click', e => {\r\n    e.path.forEach(el => {\r\n        if (el.className === 'gallery-item') {\r\n            refs.preloadRef.classList.remove('is-hidden');\r\n            const imgBig = el.dataset.img;\r\n            const instance = basicLightbox.create(`<img class='img-lightbox' src=${imgBig}>`);\r\n            instance.show();\r\n            setTimeout(() => {\r\n                refs.preloadRef.classList.add('is-hidden');\r\n                document.querySelector('.basicLightbox').style.opacity = 1;\r\n                document.querySelector('.img-lightbox').style.opacity = 1;\r\n                document.querySelector('.img-lightbox').style.transform = 'scale(1)'; \r\n                document.querySelector('.img-lightbox').style.transition = 'all 0.6s';\r\n            }, 1200);\r\n        };\r\n                \r\n    });\r\n});"],"sourceRoot":""}